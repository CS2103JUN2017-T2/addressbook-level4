# A0125586X
###### \java\seedu\multitasky\model\entry\Deadline.java
``` java
    /**
     * Compares this to another deadline for sorting by due(end) date.
     *
     * @return <0 if this deadline is sooner, 0 if they're the same, and >0 if this deadline is later
     */
    @Override
    public int compareTo(ReadOnlyEntry other) throws NullPointerException, ClassCastException {
        assert other instanceof Deadline : "Deadline::compareTo must receive Deadline object as argument";
        return this.getEndDateAndTime().compareTo(other.getEndDateAndTime());
    }

```
###### \java\seedu\multitasky\model\entry\DeadlineList.java
``` java
    /**
     * Overrides updateEntry in DeadlineList to sort after updating in case start date was changed.
     *
     * @throws EntryNotFoundException if {@code target} could not be found in the list.
     * @throws DuplicateEntryException if {@code editedEntry} already exists in the list.
     */
    @Override
    public void updateEntry(ReadOnlyEntry target, ReadOnlyEntry editedEntry)
            throws DuplicateEntryException, EntryNotFoundException {
        super.updateEntry(target, editedEntry);
        sortInternalList();
    }

```
###### \java\seedu\multitasky\model\entry\EntryList.java
``` java
    /**
     * Sorts the internal list by the Comparable interface already implemented for the various
     * Entry subclasses
     */
    protected void sortInternalList() {
        Collections.sort(internalList);
    }
```
###### \java\seedu\multitasky\model\entry\Event.java
``` java
    /**
     * Compares this to another event for sorting by starting date.
     *
     * @return <0 if this event is sooner, 0 if they're the same, and >0 if this event is later
     */
    @Override
    public int compareTo(ReadOnlyEntry other) throws NullPointerException, ClassCastException {
        assert other instanceof Event : "Event::compareTo must receive Event object as argument";
        return this.getStartDateAndTime().compareTo(other.getStartDateAndTime());
    }
```
###### \java\seedu\multitasky\model\entry\EventList.java
``` java
    /**
     * Overrides updateEntry in EntryList to sort after updating in case start date was changed.
     *
     * @throws EntryNotFoundException if {@code target} could not be found in the list.
     * @throws DuplicateEntryException if {@code editedEntry} already exists in the list.
     */
    @Override
    public void updateEntry(ReadOnlyEntry target, ReadOnlyEntry editedEntry)
            throws DuplicateEntryException, EntryNotFoundException {
        super.updateEntry(target, editedEntry);
        sortInternalList();
    }
```
###### \java\seedu\multitasky\model\entry\FloatingTask.java
``` java
    /**
     * Compares this to another floating task.
     *
     * @return 0 as there is no ordering to floating tasks at the moment.
     */
    @Override
    public int compareTo(ReadOnlyEntry other) throws NullPointerException, ClassCastException {
        assert other instanceof FloatingTask : "FloatingTask::compareTo must receive FloatingTask object as argument";
        return 0;
    }

```
###### \java\seedu\multitasky\model\util\SampleDataUtil.java
``` java
    public static Entry[] getSampleEntries() {
        try {
            //CHECKSTYLE.OFF: LineLength
            return new Entry[] {
                new EntryBuilder().withName("Dinner with family").withTags("cook")
                    .withStartDateAndTime(new GregorianCalendar(2017, Calendar.DECEMBER, 25, 19, 00))
                    .withEndDateAndTime(new GregorianCalendar(2017, Calendar.DECEMBER, 25, 21, 00)).build(),

                new EntryBuilder().withName("Submit taxes").withTags("money")
                    .withEndDateAndTime(new GregorianCalendar(2017, Calendar.JULY, 1, 00, 00)).build(),
                new EntryBuilder().withName("CS2103 finals").withTags("school", "study")
                    .withEndDateAndTime(new GregorianCalendar(2017, Calendar.JULY, 28, 10, 0)).build(),

                new EntryBuilder().withName("Learn to cook").withTags("goals").build(),
                new EntryBuilder().withName("Learn programming").withTags("lessons", "computer").build(),
            };
            //CHECKSTYLE.ON: LineLength
        } catch (Exception e) {
            throw new AssertionError("sample data cannot be invalid", e);
        }
    }

    public static Entry[] getSampleEvents() {
        try {
            //CHECKSTYLE.OFF: LineLength
            return new Entry[] {
                new EntryBuilder().withName("Dinner with family").withTags("cook")
                    .withStartDateAndTime(new GregorianCalendar(2017, Calendar.DECEMBER, 25, 19, 00))
                    .withEndDateAndTime(new GregorianCalendar(2017, Calendar.DECEMBER, 25, 21, 00)).build(),
            };
            //CHECKSTYLE.ON: LineLength
        } catch (Exception e) {
            throw new AssertionError("sample data cannot be invalid", e);
        }
    }

    public static Entry[] getSampleDeadlines() {
        try {
            //CHECKSTYLE.OFF: LineLength
            return new Entry[] {
                new EntryBuilder().withName("Submit taxes").withTags("money")
                    .withEndDateAndTime(new GregorianCalendar(2017, Calendar.JULY, 1, 00, 00)).build(),
                new EntryBuilder().withName("CS2103 finals").withTags("school", "study")
                    .withEndDateAndTime(new GregorianCalendar(2017, Calendar.JULY, 28, 10, 0)).build(),
            };
            //CHECKSTYLE.ON: LineLength
        } catch (Exception e) {
            throw new AssertionError("sample data cannot be invalid", e);
        }
    }

    public static Entry[] getSampleFloatingTasks() {
        try {
            //CHECKSTYLE.OFF: LineLength
            return new Entry[] {
                new EntryBuilder().withName("Learn to cook").withTags("goals").build(),
                new EntryBuilder().withName("Learn programming").withTags("lessons", "computer").build(),
            };
            //CHECKSTYLE.ON: LineLength
        } catch (Exception e) {
            throw new AssertionError("sample data cannot be invalid", e);
        }
    }
```
###### \java\seedu\multitasky\ui\CommandBox.java
``` java
/**
 * Handles text input from the user into the command box.
 * Keeps a history of previous commands entered by the user to provide
 * Linux-style command history navigation.
 */
public class CommandBox extends UiPart<Region> {

    public static final String ERROR_STYLE_CLASS = "error";
    private static final String FXML = "CommandBox.fxml";

    private final Logger logger = LogsCenter.getLogger(CommandBox.class);
    private final Logic logic;

    private CommandAutocomplete commandAutocomplete;
    private CommandHistory commandHistory;

    @FXML
    private TextField commandTextField;

    public CommandBox(Logic logic) {
        super(FXML);
        this.logic = logic;
        commandHistory = new CommandHistory(getRoot(), commandTextField);
        commandAutocomplete = new CommandAutocomplete(getRoot(), commandTextField);
        setCommandTextFieldFocus();
    }

    /**
     * Requests focus on the command text field once the main UI window is open,
     * so that the user can immediately begin typing.
     */
    private void setCommandTextFieldFocus() {
        Platform.runLater(new Runnable() {
            public void run() {
                commandTextField.requestFocus();
            }
        });
    }

    @FXML
    private void handleCommandInputChanged() throws DuplicateEntryException {
        commandHistory.saveCommand();
        try {
            CommandResult commandResult = logic.execute(commandTextField.getText().trim());
            // process result of the command
            setStyleToIndicateCommandSuccess();
            logger.info("Result: " + commandResult.feedbackToUser);
            raise(new NewResultAvailableEvent(commandResult.feedbackToUser));

        } catch (CommandException | ParseException e) {
            // handle command failure
            setStyleToIndicateCommandFailure();
            logger.info("Invalid command: " + commandTextField.getText().trim());
            raise(new NewResultAvailableEvent(e.getMessage()));
        } catch (DuplicateEntryException e) {
            setStyleToIndicateCommandFailure();
            logger.info("Unable to add duplicate entry with command: " + commandTextField.getText().trim());
            raise(new NewResultAvailableEvent(e.getMessage()));
        }
        commandTextField.setText("");
    }

    /**
     * Sets the command box style to indicate a successful command.
     */
    private void setStyleToIndicateCommandSuccess() {
        commandTextField.getStyleClass().remove(ERROR_STYLE_CLASS);
    }

    /**
     * Sets the command box style to indicate a failed command.
     */
    private void setStyleToIndicateCommandFailure() {
        ObservableList<String> styleClass = commandTextField.getStyleClass();

        if (styleClass.contains(ERROR_STYLE_CLASS)) {
            return;
        }

        styleClass.add(ERROR_STYLE_CLASS);
    }

}
```
###### \java\seedu\multitasky\ui\DeadlineListPanel.java
``` java
/**
 * Panel containing the list of deadlines.
 */
public class DeadlineListPanel extends UiPart<Region> {
    private static final String FXML = "DeadlineListPanel.fxml";

    @FXML
    private ListView<ReadOnlyEntry> deadlineListView;

    public DeadlineListPanel(ObservableList<ReadOnlyEntry> deadlineList) {
        super(FXML);
        setConnections(deadlineList);
    }

    private void setConnections(ObservableList<ReadOnlyEntry> deadlineList) {
        deadlineListView.setItems(deadlineList);
        deadlineListView.setCellFactory(listView -> new DeadlineListViewCell());
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            deadlineListView.scrollTo(index);
            deadlineListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class DeadlineListViewCell extends ListCell<ReadOnlyEntry> {

        @Override
        protected void updateItem(ReadOnlyEntry entry, boolean empty) {
            super.updateItem(entry, empty);

            if (empty || entry == null) {
                setGraphic(null);
                setText(null);
            } else {
                int index = getIndex() + 1;
                assert index > 0 : "getIndex returned invalid index";

                Calendar current = new GregorianCalendar();
                // Deadline is over
                if (current.compareTo(entry.getEndDateAndTime()) > 0) {
                    setGraphic(new DeadlineOverdueCard(entry, index).getRoot());
                } else {
                    setGraphic(new DeadlineCard(entry, index).getRoot());
                }
            }
        }
    }

}
```
###### \java\seedu\multitasky\ui\EntryCard.java
``` java
/**
 * EntryCard implements a superclass for the different types of entry cards to inherit from.
 * This class is declared as abstract as the classes for each type of entry card
 * should be instantiated instead of a generic entry card.
 */
public abstract class EntryCard extends UiPart<Region> {

    private static final String FXML = "EntryCard.fxml";

    /**
     * Note: Certain keywords such as "location" and "resources" are reserved keywords in JavaFX.
     * As a consequence, UI elements' variable names cannot be set to such keywords
     * or an exception will be thrown by JavaFX during runtime.
     *
     * @see <a href="https://github.com/se-edu/addressbook-level4/issues/336">The issue on AddressBook level 4</a>
     */

    @FXML
    protected HBox cardPane;
    @FXML
    protected Label name;
    @FXML
    protected Label id;
    @FXML
    protected Label startDateTime;
    @FXML
    protected Label endDateTime;
    @FXML
    protected Label additionalInfo;
    @FXML
    protected FlowPane tags;

    protected DateFormat dateFormat;
    protected PrettyTime prettyTime;

    public EntryCard(ReadOnlyEntry entry, int displayedIndex) {
        super(FXML);
        initAll(entry, displayedIndex);
        dateFormat = DateFormat.getDateTimeInstance(DateFormat.MEDIUM, DateFormat.SHORT);
        prettyTime = new PrettyTime();
    }

    public EntryCard(String fxml, ReadOnlyEntry entry, int displayedIndex) {
        super(fxml);
        initAll(entry, displayedIndex);
        dateFormat = DateFormat.getDateTimeInstance(DateFormat.MEDIUM, DateFormat.SHORT);
        prettyTime = new PrettyTime();
    }

    protected void initAll(ReadOnlyEntry entry, int displayedIndex) {
        initNameId(entry, displayedIndex);
        initTags(entry);
    }

    protected void initNameId(ReadOnlyEntry entry, int displayedIndex) {
        name.setText(entry.getName().toString());
        id.setText(displayedIndex + ". ");
    }

    protected void initTags(ReadOnlyEntry entry) {
        entry.getTags().forEach(tag -> tags.getChildren().add(new Label(tag.tagName)));
    }

    protected String formatDate(Date date) {
        return dateFormat.format(date);
    }

    protected String prettyTimeFormatDate(Date date) {
        return prettyTime.format(date);
    }
}
```
###### \java\seedu\multitasky\ui\EventListPanel.java
``` java
/**
 * Panel containing the list of events.
 */
public class EventListPanel extends UiPart<Region> {
    private static final String FXML = "EventListPanel.fxml";

    @FXML
    private ListView<ReadOnlyEntry> eventListView;

    public EventListPanel(ObservableList<ReadOnlyEntry> eventList) {
        super(FXML);
        setConnections(eventList);
    }

    private void setConnections(ObservableList<ReadOnlyEntry> eventList) {
        eventListView.setItems(eventList);
        eventListView.setCellFactory(listView -> new EventListViewCell());
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            eventListView.scrollTo(index);
            eventListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class EventListViewCell extends ListCell<ReadOnlyEntry> {

        @Override
        protected void updateItem(ReadOnlyEntry entry, boolean empty) {
            super.updateItem(entry, empty);

            if (empty || entry == null) {
                setGraphic(null);
                setText(null);
            } else {
                int index = getIndex() + 1;
                assert index > 0 : "getIndex returned invalid index";

                Calendar current = new GregorianCalendar();
                // Event has already started
                if (current.compareTo(entry.getStartDateAndTime()) > 0) {
                    setGraphic(new EventOverdueCard(entry, index).getRoot());
                } else {
                    setGraphic(new EventCard(entry, index).getRoot());
                }
            }
        }
    }

}
```
###### \java\seedu\multitasky\ui\FloatingTaskListPanel.java
``` java
/**
 * Panel containing the list of floating tasks.
 */
public class FloatingTaskListPanel extends UiPart<Region> {
    private static final String FXML = "FloatingTaskListPanel.fxml";

    @FXML
    private ListView<ReadOnlyEntry> floatingTaskListView;

    public FloatingTaskListPanel(ObservableList<ReadOnlyEntry> floatingTaskList) {
        super(FXML);
        setConnections(floatingTaskList);
    }

    private void setConnections(ObservableList<ReadOnlyEntry> floatingTaskList) {
        floatingTaskListView.setItems(floatingTaskList);
        floatingTaskListView.setCellFactory(listView -> new FloatingTaskListViewCell());
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            floatingTaskListView.scrollTo(index);
            floatingTaskListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class FloatingTaskListViewCell extends ListCell<ReadOnlyEntry> {

        @Override
        protected void updateItem(ReadOnlyEntry entry, boolean empty) {
            super.updateItem(entry, empty);

            if (empty || entry == null) {
                setGraphic(null);
                setText(null);
            } else {
                setGraphic(new FloatingTaskCard(entry, getIndex() + 1).getRoot());
            }
        }
    }

}
```
###### \java\seedu\multitasky\ui\MainWindow.java
``` java
/**
 * The Main Window. Provides the basic application layout containing
 * a menu bar and space where other JavaFX elements can be placed.
 */
public class MainWindow extends UiPart<Region> {

    private static final String ICON = "/images/calendar.png";
    private static final String FXML = "MainWindow.fxml";
    private static final int MIN_HEIGHT = 600;
    private static final int MIN_WIDTH = 450;

    private Stage primaryStage;
    private Logic logic;

    // Independent Ui parts residing in this Ui container
    private EventListPanel eventListPanel;
    private DeadlineListPanel deadlineListPanel;
    private FloatingTaskListPanel floatingTaskListPanel;
    private Config config;
    private UserPrefs prefs;

    @FXML
    private StackPane commandBoxPlaceholder;

    @FXML
    private MenuItem helpMenuItem;

    @FXML
    private StackPane eventListPanelPlaceholder;

    @FXML
    private StackPane deadlineListPanelPlaceholder;

    @FXML
    private StackPane floatingTaskListPanelPlaceholder;

    @FXML
    private StackPane resultDisplayPlaceholder;

    @FXML
    private StackPane statusbarPlaceholder;

    public MainWindow(Stage primaryStage, Config config, UserPrefs prefs, Logic logic) {
        super(FXML);

        // Set dependencies
        this.primaryStage = primaryStage;
        this.logic = logic;
        this.config = config;
        this.prefs = prefs;

        // Configure the UI
        setTitle(config.getAppTitle());
        setIcon(ICON);
        setWindowMinSize();
        setWindowDefaultSize(prefs);
        Scene scene = new Scene(getRoot());
        primaryStage.setScene(scene);

        setAccelerators();
    }

    public Stage getPrimaryStage() {
        return primaryStage;
    }

    private void setAccelerators() {
        setAccelerator(helpMenuItem, KeyCombination.valueOf("F1"));
    }

    /**
     * Sets the accelerator of a MenuItem.
     * @param keyCombination the KeyCombination value of the accelerator
     */
    private void setAccelerator(MenuItem menuItem, KeyCombination keyCombination) {
        menuItem.setAccelerator(keyCombination);

        /*
         * TODO: the code below can be removed once the bug reported here
         * https://bugs.openjdk.java.net/browse/JDK-8131666
         * is fixed in later version of SDK.
         *
         * According to the bug report, TextInputControl (TextField, TextArea) will
         * consume function-key events. Because CommandBox contains a TextField, and
         * ResultDisplay contains a TextArea, thus some accelerators (e.g F1) will
         * not work when the focus is in them because the key event is consumed by
         * the TextInputControl(s).
         *
         * For now, we add following event filter to capture such key events and open
         * help window purposely so to support accelerators even when focus is
         * in CommandBox or ResultDisplay.
         */
        getRoot().addEventFilter(KeyEvent.KEY_PRESSED, event -> {
            if (event.getTarget() instanceof TextInputControl && keyCombination.match(event)) {
                menuItem.getOnAction().handle(new ActionEvent());
                event.consume();
            }
        });
    }

    void fillInnerParts() {
        //TODO add respective logic.getFiltered****List when API calls are ready
        eventListPanel = new EventListPanel(logic.getFilteredEventList());
        eventListPanelPlaceholder.getChildren().add(eventListPanel.getRoot());

        deadlineListPanel = new DeadlineListPanel(logic.getFilteredDeadlineList());
        deadlineListPanelPlaceholder.getChildren().add(deadlineListPanel.getRoot());

        floatingTaskListPanel = new FloatingTaskListPanel(logic.getFilteredFloatingTaskList());
        floatingTaskListPanelPlaceholder.getChildren().add(floatingTaskListPanel.getRoot());

        ResultDisplay resultDisplay = new ResultDisplay();
        resultDisplayPlaceholder.getChildren().add(resultDisplay.getRoot());

        StatusBarFooter statusBarFooter = new StatusBarFooter(prefs.getEntryBookFilePath());
        statusbarPlaceholder.getChildren().add(statusBarFooter.getRoot());

        CommandBox commandBox = new CommandBox(logic);
        commandBoxPlaceholder.getChildren().add(commandBox.getRoot());

    }

    void hide() {
        primaryStage.hide();
    }

    private void setTitle(String appTitle) {
        primaryStage.setTitle(appTitle);
    }

    /**
     * Sets the given image as the icon of the main window.
     * @param iconSource e.g. {@code "/images/help_icon.png"}
     */
    private void setIcon(String iconSource) {
        FxViewUtil.setStageIcon(primaryStage, iconSource);
    }

    /**
     * Sets the default size based on user preferences.
     */
    private void setWindowDefaultSize(UserPrefs prefs) {
        primaryStage.setHeight(prefs.getGuiSettings().getWindowHeight());
        primaryStage.setWidth(prefs.getGuiSettings().getWindowWidth());
        if (prefs.getGuiSettings().getWindowCoordinates() != null) {
            primaryStage.setX(prefs.getGuiSettings().getWindowCoordinates().getX());
            primaryStage.setY(prefs.getGuiSettings().getWindowCoordinates().getY());
        }
    }

    private void setWindowMinSize() {
        primaryStage.setMinHeight(MIN_HEIGHT);
        primaryStage.setMinWidth(MIN_WIDTH);
    }

    /**
     * Returns the current size and the position of the main Window.
     */
    GuiSettings getCurrentGuiSetting() {
        return new GuiSettings(primaryStage.getWidth(), primaryStage.getHeight(),
                (int) primaryStage.getX(), (int) primaryStage.getY());
    }

    @FXML
    public void handleHelp() {
        HelpWindow helpWindow = new HelpWindow();
        helpWindow.show();
    }

    void show() {
        primaryStage.show();
    }

    /**
     * Closes the application.
     */
    @FXML
    private void handleExit() {
        raise(new ExitAppRequestEvent());
    }

    public EventListPanel getEventListPanel() {
        return this.eventListPanel;
    }

    public DeadlineListPanel getDeadlineListPanel() {
        return this.deadlineListPanel;
    }

    public FloatingTaskListPanel getFloatingTaskListPanel() {
        return this.floatingTaskListPanel;
    }

}
```
###### \java\seedu\multitasky\ui\util\CommandAutocomplete.java
``` java
/**
 * Provides autocomplete functionality to the command box.
 * If the string that the user has typed so far matches the beginning of only one command word,
 * pressing the tab key will complete that command word automatically
 */
public class CommandAutocomplete {

    private static final ArrayList<String> allCommandWords = new ArrayList<String>(Arrays.asList(new String[] {
        AddCommand.COMMAND_WORD,
        ClearCommand.COMMAND_WORD,
        DeleteCommand.COMMAND_WORD,
        EditCommand.COMMAND_WORD,
        ExitCommand.COMMAND_WORD,
        FindCommand.COMMAND_WORD,
        HelpCommand.COMMAND_WORD,
        HistoryCommand.COMMAND_WORD,
        ListCommand.COMMAND_WORD,
        UndoCommand.COMMAND_WORD,
    }));

    @FXML
    private Region commandBoxRegion;

    @FXML
    private TextField commandTextField;

    private final EventHandler<KeyEvent> tabKeyEventHandler = new EventHandler<KeyEvent>() {
        @Override
        public void handle(KeyEvent event) {
            if (event.getCode() == KeyCode.TAB) {
                event.consume();
                autocomplete();
            }
        }
    };

    public CommandAutocomplete(Region commandBoxRegion, TextField commandTextField) {
        assert commandBoxRegion != null : "commandBoxRegion cannot be null";
        assert commandTextField != null : "commandTextField cannot be null";
        this.commandBoxRegion = commandBoxRegion;
        this.commandTextField = commandTextField;
        this.commandBoxRegion.addEventFilter(KeyEvent.KEY_PRESSED, tabKeyEventHandler);
    }

    private void autocomplete() {
        final String[] input = commandTextField.getText().trim().split(" ");
        if (input.length == 1) {
            ArrayList<String> commandMatches = getCommandSubstringMatches(input[0]);
            if (commandMatches.size() == 1) {
                setText(commandMatches.get(0) + " ");
            } else {
                commandMatches = getCommandStartingMatches(input[0]);
                if (commandMatches.size() == 1) {
                    setText(commandMatches.get(0) + " ");
                }
            }
        }
    }

    private ArrayList<String> getCommandSubstringMatches(String input) {
        final ArrayList<String> commandMatches = new ArrayList<>();
        // Allow for case-insensitive match
        input = input.trim().toLowerCase();
        for (String commandWord : allCommandWords) {
            if (commandWord.indexOf(input) != -1) {
                commandMatches.add(commandWord);
            }
        }
        return commandMatches;
    }

    private ArrayList<String> getCommandStartingMatches(String input) {
        final ArrayList<String> commandMatches = new ArrayList<>();
        // Allow for case-insensitive match
        input = input.trim().toLowerCase();
        for (String commandWord : allCommandWords) {
            if (commandWord.startsWith(input)) {
                commandMatches.add(commandWord);
            }
        }
        return commandMatches;
    }

    private void setText(String text) {
        commandTextField.setText(text);
        setCursorToCommandTextFieldEnd();
    }

    private void setCursorToCommandTextFieldEnd() {
        // Position cursor at the end for consistency and easy editing
        commandTextField.positionCaret(commandTextField.getText().length());
    }

}
```
###### \java\seedu\multitasky\ui\util\CommandHistory.java
``` java
/**
 * Keeps track of the history of commands entered by the user into a text field.
 */
public class CommandHistory {

    @FXML
    private Region commandBoxRegion;

    @FXML
    private TextField commandTextField;

    private Stack<String> commandTextPastStack;
    private Stack<String> commandTextFutureStack;

    private boolean wasUserTypedCommandSaved;

    private final EventHandler<KeyEvent> arrowKeyEventHandler = new EventHandler<KeyEvent>() {
        @Override
        public void handle(KeyEvent event) {
            if (event.getCode() == KeyCode.UP || event.getCode() == KeyCode.KP_UP) {
                event.consume();
                loadPreviousCommand();
            } else if (event.getCode() == KeyCode.DOWN || event.getCode() == KeyCode.KP_DOWN) {
                event.consume();
                loadNextCommand();
            }
        }
    };

    public CommandHistory(Region commandBoxRegion, TextField commandTextField) {
        assert commandBoxRegion != null : "commandBoxRegion cannot be null";
        assert commandTextField != null : "commandTextField cannot be null";
        this.commandBoxRegion = commandBoxRegion;
        this.commandTextField = commandTextField;
        commandTextPastStack = new Stack<>();
        commandTextFutureStack = new Stack<>();
        wasUserTypedCommandSaved = false;
        this.commandBoxRegion.addEventFilter(KeyEvent.KEY_PRESSED, arrowKeyEventHandler);
    }

    public void saveCommand() {
        String command = commandTextField.getText().trim();
        // First push all commands to the past
        while (!commandTextFutureStack.empty()) {
            commandTextPastStack.push(commandTextFutureStack.pop());
        }
        // Remove the user typed command since it wasn't executed
        if (wasUserTypedCommandSaved) {
            wasUserTypedCommandSaved = false;
            commandTextPastStack.pop();
        }
        // Save this command if it's the first one or if it's different from the last one
        if ((command.length() > 0)
                && (commandTextPastStack.empty() || !commandTextPastStack.peek().equals(command))) {
            commandTextPastStack.push(command);
        }
    }

    private void loadPreviousCommand() {
        // A previous command doesn't exist
        if (commandTextPastStack.empty()) {
            return;
        }
        // This is the first time the user requested the previous command
        if (commandTextFutureStack.empty()) {
            String command = commandTextField.getText().trim();
            // Save whatever the user was typing if it is different from the previous entered command
            if (!command.equals(commandTextPastStack.peek())) {
                commandTextFutureStack.push(command);
                wasUserTypedCommandSaved = true;
            }
        }
        // Load the previous command into the text field
        commandTextFutureStack.push(commandTextPastStack.pop());
        setText();
    }

    private void loadNextCommand() {
        // A newer command doesn't exist
        if (commandTextFutureStack.empty()) {
            return;
        }
        commandTextPastStack.push(commandTextFutureStack.pop());
        // This is the newest command
        if (commandTextFutureStack.empty()) {
            commandTextFutureStack.push(commandTextPastStack.pop());
        }
        setText();
    }

    private void setText() {
        commandTextField.setText(commandTextFutureStack.peek());
        setCursorToCommandTextFieldEnd();
    }

    private void setCursorToCommandTextFieldEnd() {
        // Position cursor at the end for consistency and easy editing
        commandTextField.positionCaret(commandTextField.getText().length());
    }

}
```
###### \resources\view\DarkTheme.css
``` css
.event-card {
    -fx-outer-border: derive(#1d1d1d, 20%);
    -fx-body-color: linear-gradient(to bottom, #4c4c4c, #212121);
    -fx-background-color:
        -fx-outer-border,
        -fx-body-color;
    -fx-background-insets: 0, 4;
}

.event-overdue-card {
    -fx-outer-border: derive(#1d1d1d, 20%);
    -fx-body-color: linear-gradient(to bottom, #ff0000, #4c0000);
    -fx-background-color:
        -fx-outer-border,
        -fx-body-color;
    -fx-background-insets: 0, 4;
}

.deadline-card {
    -fx-outer-border: derive(#1d1d1d, 20%);
    -fx-body-color: linear-gradient(to bottom, #4c4c4c, #212121);
    -fx-background-color:
        -fx-outer-border,
        -fx-body-color;
    -fx-background-insets: 0, 4;
}

.deadline-overdue-card {
    -fx-outer-border: derive(#1d1d1d, 20%);
    -fx-body-color: linear-gradient(to bottom, #ff0000, #4c0000);
    -fx-background-color:
        -fx-outer-border,
        -fx-body-color;
    -fx-background-insets: 0, 4;
}

.floating-task-card {
    -fx-outer-border: derive(#1d1d1d, 20%);
    -fx-body-color: linear-gradient(to bottom, #4c4c4c, #212121);
    -fx-background-color:
        -fx-outer-border,
        -fx-body-color;
    -fx-background-insets: 0, 4;
}
```
###### \resources\view\DeadlineCard.fxml
``` fxml

<HBox id="cardPane" fx:id="cardPane" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <GridPane maxHeight="120.0" minHeight="120.0" prefHeight="120.0" stylesheets="@DarkTheme.css" HBox.hgrow="ALWAYS">
    <columnConstraints>
      <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="150" />
    </columnConstraints>
    <VBox alignment="CENTER_LEFT" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" styleClass="deadline-card" GridPane.columnIndex="0">
      <padding>
        <Insets bottom="5" left="15" right="5" top="5" />
      </padding>
      <HBox alignment="CENTER_LEFT" spacing="5">
        <Label fx:id="id" styleClass="cell_big_label">
          <minWidth>
            <!-- Ensures that the label text is never truncated -->
            <Region fx:constant="USE_PREF_SIZE" />
          </minWidth>
        </Label>
        <Label fx:id="name" styleClass="cell_big_label" text="\$name" />
      </HBox>
         <Label fx:id="endDateTime" styleClass="cell_small_label" stylesheets="@DarkTheme.css" text="\$end_date_time" />
         <Label fx:id="additionalInfo" styleClass="cell_small_label" text="\$additional_info" />
      <FlowPane fx:id="tags" />
    </VBox>
      <rowConstraints>
         <RowConstraints />
      </rowConstraints>
  </GridPane>
</HBox>
```
###### \resources\view\DeadlineListPanel.fxml
``` fxml
<VBox xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <ListView fx:id="deadlineListView" maxHeight="1.7976931348623157E308" styleClass="pane-with-border" stylesheets="@DarkTheme.css" VBox.vgrow="ALWAYS" />
</VBox>
```
###### \resources\view\DeadlineOverdueCard.fxml
``` fxml

<HBox id="cardPane" fx:id="cardPane" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <GridPane maxHeight="120.0" minHeight="120.0" prefHeight="120.0" styleClass="event-overdue-pane-with-border" stylesheets="@DarkTheme.css" HBox.hgrow="ALWAYS">
    <columnConstraints>
      <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="150" />
    </columnConstraints>
    <VBox alignment="CENTER_LEFT" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" styleClass="deadline-overdue-card" stylesheets="@DarkTheme.css" GridPane.columnIndex="0">
      <padding>
        <Insets bottom="5" left="15" right="5" top="5" />
      </padding>
      <HBox alignment="CENTER_LEFT" spacing="5">
        <Label fx:id="id" styleClass="cell_big_label">
          <minWidth>
            <!-- Ensures that the label text is never truncated -->
            <Region fx:constant="USE_PREF_SIZE" />
          </minWidth>
        </Label>
        <Label fx:id="name" styleClass="cell_big_label" text="\$name" />
      </HBox>
         <Label fx:id="endDateTime" styleClass="cell_small_label" stylesheets="@DarkTheme.css" text="\$end_date_time" />
         <Label fx:id="additionalInfo" styleClass="cell_small_label" text="\$additional_info" />
      <FlowPane fx:id="tags" />
    </VBox>
      <rowConstraints>
         <RowConstraints />
      </rowConstraints>
  </GridPane>
</HBox>
```
###### \resources\view\EventCard.fxml
``` fxml
<HBox id="cardPane" fx:id="cardPane" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" prefWidth="150.0" xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <GridPane maxHeight="120.0" minHeight="120.0" styleClass="floating-pane-with-border" stylesheets="@DarkTheme.css" HBox.hgrow="ALWAYS">
    <columnConstraints>
      <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="150" />
    </columnConstraints>
    <VBox alignment="CENTER_LEFT" maxHeight="120.0" minHeight="120.0" styleClass="event-card" GridPane.columnIndex="0">
      <padding>
        <Insets bottom="5" left="15" right="5" top="5" />
      </padding>
      <HBox alignment="CENTER_LEFT" spacing="5">
        <Label fx:id="id" styleClass="cell_big_label">
          <minWidth>
            <!-- Ensures that the label text is never truncated -->
            <Region fx:constant="USE_PREF_SIZE" />
          </minWidth>
        </Label>
        <Label fx:id="name" styleClass="cell_big_label" text="\$name" />
      </HBox>
         <GridPane prefWidth="128.0">
           <columnConstraints>
             <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
               <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
           </columnConstraints>
           <rowConstraints>
             <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
           </rowConstraints>
            <children>
               <Label fx:id="startDateTime" styleClass="cell_small_label" stylesheets="@DarkTheme.css" text="\$start_date_time" />
               <Label fx:id="endDateTime" styleClass="cell_small_label" stylesheets="@DarkTheme.css" text="\$end_date_time" GridPane.columnIndex="1" />
            </children>
         </GridPane>
         <Label fx:id="additionalInfo" styleClass="cell_small_label" text="\$additional_info" />
      <FlowPane fx:id="tags" />
    </VBox>
      <rowConstraints>
         <RowConstraints />
      </rowConstraints>
  </GridPane>
</HBox>
```
###### \resources\view\EventListPanel.fxml
``` fxml
<VBox xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <ListView fx:id="eventListView" maxHeight="1.7976931348623157E308" styleClass="pane-with-border" stylesheets="@DarkTheme.css" VBox.vgrow="ALWAYS" />
</VBox>
```
###### \resources\view\EventOverdueCard.fxml
``` fxml
<HBox id="cardPane" fx:id="cardPane" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <GridPane maxHeight="120.0" minHeight="120.0" prefHeight="120.0" HBox.hgrow="ALWAYS">
    <columnConstraints>
      <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="150" />
    </columnConstraints>
    <VBox alignment="CENTER_LEFT" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" styleClass="event-overdue-card" stylesheets="@DarkTheme.css" GridPane.columnIndex="0">
      <padding>
        <Insets bottom="5" left="15" right="5" top="5" />
      </padding>
      <HBox alignment="CENTER_LEFT" spacing="5">
        <Label fx:id="id" styleClass="cell_big_label">
          <minWidth>
            <!-- Ensures that the label text is never truncated -->
            <Region fx:constant="USE_PREF_SIZE" />
          </minWidth>
        </Label>
        <Label fx:id="name" styleClass="cell_big_label" text="\$name" />
      </HBox>
         <GridPane>
            <columnConstraints>
               <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
               <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
            </columnConstraints>
            <rowConstraints>
               <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
            </rowConstraints>
            <children>
               <Label fx:id="startDateTime" styleClass="cell_small_label" stylesheets="@DarkTheme.css" text="\$start_date_time" />
               <Label fx:id="endDateTime" styleClass="cell_small_label" stylesheets="@DarkTheme.css" text="\$end_date_time" GridPane.columnIndex="1" />
            </children>
         </GridPane>
         <Label fx:id="additionalInfo" styleClass="cell_small_label" text="\$additional_info" />
      <FlowPane fx:id="tags" />
    </VBox>
      <rowConstraints>
         <RowConstraints />
      </rowConstraints>
  </GridPane>
</HBox>
```
###### \resources\view\FloatingTaskCard.fxml
``` fxml
<HBox id="cardPane" fx:id="cardPane" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <GridPane maxHeight="120.0" minHeight="120.0" prefHeight="120.0" stylesheets="@DarkTheme.css" HBox.hgrow="ALWAYS">
    <columnConstraints>
      <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="150" />
    </columnConstraints>
    <VBox alignment="CENTER_LEFT" maxHeight="120.0" minHeight="120.0" prefHeight="120.0" styleClass="floating-task-card" GridPane.columnIndex="0">
      <padding>
        <Insets bottom="5" left="15" right="5" top="5" />
      </padding>
      <HBox alignment="CENTER_LEFT" spacing="5">
        <Label fx:id="id" styleClass="cell_big_label">
          <minWidth>
            <!-- Ensures that the label text is never truncated -->
            <Region fx:constant="USE_PREF_SIZE" />
          </minWidth>
        </Label>
        <Label fx:id="name" styleClass="cell_big_label" text="\$name" />
      </HBox>
      <FlowPane fx:id="tags" />
    </VBox>
      <rowConstraints>
         <RowConstraints />
      </rowConstraints>
  </GridPane>
</HBox>
```
###### \resources\view\FloatingTaskListPanel.fxml
``` fxml
<VBox xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <ListView fx:id="floatingTaskListView" maxHeight="1.7976931348623157E308" styleClass="pane-with-border" stylesheets="@DarkTheme.css" VBox.vgrow="ALWAYS" />
</VBox>
```
###### \resources\view\MainWindow.fxml
``` fxml
<VBox maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefHeight="777.0" prefWidth="1013.0" xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1">
  <stylesheets>
    <URL value="@DarkTheme.css" />
    <URL value="@Extensions.css" />
  </stylesheets>

  <MenuBar VBox.vgrow="NEVER">
    <Menu mnemonicParsing="false" text="File">
      <MenuItem mnemonicParsing="false" onAction="#handleExit" text="Exit" />
    </Menu>
    <Menu mnemonicParsing="false" text="Help">
      <MenuItem fx:id="helpMenuItem" mnemonicParsing="false" onAction="#handleHelp" text="Help" />
    </Menu>
  </MenuBar>
   <StackPane maxHeight="50.0" minHeight="50.0" prefHeight="50.0" styleClass="pane-with-border">
      <padding>
         <Insets bottom="5" left="10" right="10" top="5" />
      </padding>
      <children>
         <GridPane alignment="CENTER" StackPane.alignment="CENTER">
           <columnConstraints>
             <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
             <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
               <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
           </columnConstraints>
           <rowConstraints>
             <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
           </rowConstraints>
            <children>
               <Label alignment="CENTER" contentDisplay="CENTER" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" text="Events" textAlignment="CENTER" />
               <Label alignment="CENTER" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" text="Deadlines" GridPane.columnIndex="1" />
               <Label alignment="CENTER" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" text="Floating Tasks" GridPane.columnIndex="2" />
            </children>
         </GridPane>
      </children>
   </StackPane>
   <StackPane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" styleClass="pane-with-border" stylesheets="@DarkTheme.css">
      <padding>
         <Insets bottom="5" left="10" right="10" top="5" />
      </padding>
      <children>
         <GridPane gridLinesVisible="true" minHeight="100.0" prefHeight="1000.0" prefWidth="1000.0" styleClass="pane-with-border" stylesheets="@DarkTheme.css">
           <columnConstraints>
             <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
             <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
               <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
           </columnConstraints>
           <rowConstraints>
             <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
           </rowConstraints>
            <children>
               <StackPane fx:id="eventListPanelPlaceholder" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefWidth="331.0" styleClass="pane-with-border" stylesheets="@DarkTheme.css" />
               <StackPane fx:id="deadlineListPanelPlaceholder" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" styleClass="pane-with-border" stylesheets="@DarkTheme.css" GridPane.columnIndex="1" />
               <StackPane fx:id="floatingTaskListPanelPlaceholder" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" styleClass="pane-with-border" stylesheets="@DarkTheme.css" GridPane.columnIndex="2" />
            </children>
         </GridPane>
      </children>
   </StackPane>

  <StackPane fx:id="resultDisplayPlaceholder" maxHeight="100" minHeight="100" prefHeight="100" styleClass="pane-with-border" VBox.vgrow="NEVER">
    <padding>
      <Insets bottom="5" left="10" right="10" top="5" />
    </padding>
  </StackPane>

  <StackPane fx:id="commandBoxPlaceholder" styleClass="pane-with-border" VBox.vgrow="NEVER">
    <padding>
      <Insets bottom="5" left="10" right="10" top="5" />
    </padding>
  </StackPane>

  <StackPane fx:id="statusbarPlaceholder" maxHeight="30.0" minHeight="30.0" prefHeight="30.0" styleClass="pane-without-border" VBox.vgrow="NEVER" />
</VBox>
```
